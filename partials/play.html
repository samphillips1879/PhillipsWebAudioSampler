<div ng-include="'partials/navbar.html'"></div>


<div class="viewWrap">
	








	<h2>{{greeting}}</h2>
	<div class="container">
			<button ng-show="!savingPatch" ng-click="savePatch()" class="patchHeadButton capture-btn btn-info saveButton">Save Patch</button>

			<input ng-show="savingPatch" id="patchTitleInput" class="patchHeadButton saveButton" placeholder="name this patch" type="text" ng-model="patchTitle">
			<button ng-show="savingPatch" ng-click="confirmSavePatch()" class="patchHeadButton capture-btn btn-info saveButton">Confirm New Patch</button>
			<button ng-show="savingPatch" ng-click="cancelSavePatch()" class="patchHeadButton capture-btn cancelButton">Cancel</button>

			<div class="row">
				<sampleTitle id="patchTitleHolder" class="col-xs-12">
					<span>Current Patch: </span>
					<h6 id="patchTitle">{{patch.title}}</h6>
				</sampleTitle>
			</div>

	</div>
		

	<!-- sample controls -->
	<div class="container col-xs-12 channelGroup">
		<div class="col-sm-3 repeatDiv" ng-repeat="channel in patch.channels">
			<div id="chan{{channel.channelNum}}" class="chanDiv">


				<div class="row">
					<sampleTitle class="col-xs-10 col-xs-offset-1"><span>{{channel.sampleTitle}}</span></sampleTitle>
				</div>

				<div ng-show="samples.channels[channel.channelNum].sampleBuffer" id="chan_{{channel.channelNum}}_buttons" class="btn-group chanButtons row col-xs-12 sampleTriggerRow">





					<!-- Sample Control Buttons -->
					<!-- <div class="row"> -->
						

						<button ng-click="playSample(channel.channelNum)" type="button" class="btn btn-info col-xs-3 glyphicon glyphicon-play sampleTriggerButton"></button>
						<button ng-click="stopSample(channel.channelNum)" type="button" class="btn btn-info col-xs-3 sampleTriggerButton glyphicon glyphicon-stop"></button>



						<!-- <loop button> -->
						<!-- visibly engaged when active, turns loop on -->
						<button ng-click="toggleLoop(channel.channelNum)" type="button" class="btn col-xs-3 sampleTriggerButton glyphicon glyphicon-retweet"></button>




						<!-- <set loop beginning button> -->
						<!-- <set loop end button> -->
						<!-- these buttons will copy styling from play and stop buttons -->
						

						
					<!-- </div> -->










				</div>



				<div class="row" ng-show="!samples.channels[channel.channelNum].sampleBuffer">
					<a href="#/samples/browse"><button class="btn loadButton btn-default chanButtons col-sm-7 col-sm-offset-1" ng-show="!samples.channels[channel.channelNum].sampleBuffer">
						Load New
					</button></a>
				</div>








				<div id="chan_{{channel.channelNum}}_sliders" class="chanSliders">

					<div class="chanGainSlider">
						<h6>Volume</h6>
						<input type="range" id="chan_{{channel.channelNum}}_gainValue" min="0" max="10" defaultValue="1" step="0.1" ng-model="patch.channels[channel.channelNum].gain.gain.value">
					</div>

					<div>
						<h6>Speed</h6><!-- <span class="playback-rate-value">1.0</span> -->
						<input ng-model="patch.channels[channel.channelNum].samplePlaybackRate" class="playbackRateControl" type="range" min="0.25" max="3" step="0.05" value="1">
						
					</div>


				</div>



			</div>
		</div>

		
	</div>






</div>